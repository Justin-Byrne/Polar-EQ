# eslint-plugin-spaced

A strict spacing‚Äërules ESLint plugin implementing the **Spaced Formatting Rules** and **Allman brace style**.

This plugin provides fully custom operator‚Äëspacing behavior
- Parenthesis/bracket/braces spacing
- Comma/colon handling
- Restrictions around the `_` identifier for top-level variables

> All based on the formatting rules provided in `./docs/SPACED_FORMATTING_RULES.md`

---

## Table of Contents

- [Features](#features)
  - [Operator & Symbol Spacing](#operator--symbol-spacing)
  - [Allman Brace Style](#allman-brace-style)
  - [Internal Underscore Variable Rule](#internal-underscore-variable-rule)
- [Installation](#-installation)
- [Usage](#Ô∏è-usage)
- [Rule Overview](#-rule-overview)
  - [spaced-spacing](#spaced-spacing)
  - [spaced-allman-braces](#spaced-allman-braces)
  - [spaced-internal-underscore](#spaced-internal-underscore)
- [Directory structure](#-directory-structure)
- [License](#-license)
- [Contributions](#-contributions)

---

## Features

### **Operator & Symbol Spacing**

- All major operators (`+`, `-`, `*`, `/`, `%`, `=`, `==`, `===`, `!==`, `<`, `<=`, etc.)
- Parentheses `(` `)`
- Brackets `[` `]`
- Braces `{` `}`
- Commas and colons

Each must have at least one space before and after, unless explicitly excluded.

---

### **Allman Brace Style**

All opening braces must be placed on their **own line**:

```js
function demo ( )
{
    console.log ( "Hello" );
}
```

This applies to:
- Functions
- Classes
- Conditionals (`if`, `for`, `while`, etc.)

---

### **Internal Underscore Variable Rule**
`_` may **only** be used for internal/local variables ‚Äî not top‚Äëlevel identifiers or top‚Äëlevel parameters.

---

## üì¶ Installation

```bash
npm install eslint-plugin-spaced --save-dev
```

Or using Yarn:
```bash
yarn add eslint-plugin-spaced --dev
```

---

## üõ†Ô∏è Usage

Add the plugin to your ESLint configuration:

### **eslint.config.mjs**

```mjs
{
    plugins:
    {
        spaced: spacedPlugin
    },
    rules:
    {
        "spaced/spaced-spacing": "error",
        "spaced/spaced-allman-braces": "error",
        "spaced/spaced-internal-underscore": "warn"
    }
}
```

This enables all rules with recommended settings:
- `"spaced/spaced-spacing"` ‚Üí **error**
- `"spaced/spaced-allman-braces"` ‚Üí **error**
- `"spaced/spaced-internal-underscore"` ‚Üí **warn**

---

## üîç Rule Overview

### **spaced-spacing**
Global scanner enforcing:
- Spacing before & after all operators
- Spacing for parentheses, brackets, braces
- Special handling for colons & commas
- Logical exclusion rules for unary operators

---

### **spaced-allman-braces**
- Places all `{` on the next line.
- Automatically applies indentation via ESLint‚Äôs auto‚Äëfix.

---

### **spaced-internal-underscore**
Reports:
- Top‚Äëlevel `const _ = ...`
- Top‚Äëlevel function parameters named `_`

Allows:
- Internal/local usage of `_`

---

## üìÅ Directory structure

```
eslint-plugin-spaced/
‚îú‚îÄ‚îÄ package.json
‚îú‚îÄ‚îÄ README.md
‚îú‚îÄ‚îÄ SPACED_FORMATTING_RULES.md
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ index.js
‚îÇ   ‚îú‚îÄ‚îÄ utils/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ tokens.js
‚îÇ   ‚îî‚îÄ‚îÄ rules/
‚îÇ       ‚îú‚îÄ‚îÄ spaced-spacing.js
‚îÇ       ‚îú‚îÄ‚îÄ spaced-allman-braces.js
‚îÇ       ‚îî‚îÄ‚îÄ spaced-internal-underscore.js
‚îî‚îÄ‚îÄ test/   (optional)
```

---

## üìÑ License

MIT ¬© Justin D. Byrne

---

## ü§ù Contributions

Feel free to open an issue or submit a pull request for new spacing rules, enhancements, or bug fixes.
